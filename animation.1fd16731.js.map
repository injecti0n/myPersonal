{"version":3,"sources":["assets/scripts/animation.js"],"names":["app","fnAddEventListener","fnRequestAnimationFrame","fnCallback","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeOut","Particle","ctxRender","fAngle","fCosAngle","fPI","fSinAngle","fVX","fnACos","fnCos","fnMax","fnMin","fnNextFrame","fnRender","fnRnd","fnRnd2","fnSetSize","fnSin","fnSwapList","gui","h","iProjSphereX","iProjSphereY","oBuffer","oRender","oStats","w","Stats","setMode","domElement","style","position","left","top","document","body","appendChild","Math","PI","max","min","random","cos","acos","sin","iFramesToRotate","iPerspective","iNewParticlePerFrame","fGrowDuration","fWaitDuration","fShrinkDuration","aColor","nCanvasRender","getContext","pFirst","width","innerWidth","height","innerHeight","p","oSrc","oDst","pNext","pPrev","prototype","fX","fY","fZ","fVY","fVZ","fAX","fAY","fAZ","fProjX","fProjY","fRotX","fRotZ","fForce","fRadiusCurrent","iFramesAlive","bIsDead","fnInit","fAlpha","fnUpdate","iCount","fillStyle","fillRect","join","toFixed","beginPath","arc","closePath","fill","iAddParticle","begin","end","dat","GUI","add","step","onChange","addColor","close","o","sEvent","fn","addEventListener","call"],"mappings":"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","file":"animation.1fd16731.js","sourceRoot":"..\\src","sourcesContent":["(function () {\r\n    var app, fnAddEventListener, fnRequestAnimationFrame;\r\n\r\n    fnRequestAnimationFrame = function (fnCallback) {\r\n        var fnAnimFrame;\r\n        fnAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (fnCallback) {\r\n            window.setTimeOut(fnCallback, 1000 / 60);\r\n        };\r\n        fnAnimFrame(fnCallback);\r\n    };\r\n\r\n    fnAddEventListener = function (o, sEvent, fn) {\r\n        if (o.addEventListener) {\r\n            o.addEventListener(sEvent, fn, false);\r\n        } else {\r\n            o['on' + sEvent] = fn;\r\n        }\r\n    };\r\n\r\n    app = function () {\r\n        var Particle, ctxRender, fAngle, fCosAngle, fMaxAX, fMaxAY, fMaxAZ, fPI, fSinAngle, fStartVX, fStartVY, fStartVZ, fVX, fnACos, fnCos, fnMax, fnMin, fnNextFrame, fnRender, fnRnd, fnRnd2, fnSetSize, fnSin, fnSwapList, gui, h, iProjSphereX, iProjSphereY, iRadiusSphere, nBody, oBuffer, oDoc, oRadGrad, oRender, oStats, w;\r\n        oStats = new Stats();\r\n        oStats.setMode(0);\r\n        oStats.domElement.style.position = 'absolute';\r\n        oStats.domElement.style.left = '0px';\r\n        oStats.domElement.style.top = '0px';\r\n        document.body.appendChild(oStats.domElement);\r\n        oDoc = document;\r\n        nBody = oDoc.body;\r\n        fPI = Math.PI;\r\n        fnMax = Math.max;\r\n        fnMin = Math.min;\r\n        fnRnd = Math.random;\r\n        fnRnd2 = function () {\r\n            return 2.0 * fnRnd() - 1.0;\r\n        };\r\n        fnCos = Math.cos;\r\n        fnACos = Math.acos;\r\n        fnSin = Math.sin;\r\n        iRadiusSphere = 150;\r\n        iProjSphereX = 0;\r\n        iProjSphereY = 0;\r\n        fMaxAX = 0.1;\r\n        fMaxAY = 0.1;\r\n        fMaxAZ = 0.1;\r\n        fStartVX = 0.001;\r\n        fStartVY = 0.001;\r\n        fStartVZ = 0.001;\r\n        fAngle = 0.0;\r\n        fSinAngle = 0.0;\r\n        fCosAngle = 0.0;\r\n        window.iFramesToRotate = 2000.0;\r\n        window.iPerspective = 250;\r\n        window.iNewParticlePerFrame = 10;\r\n        window.fGrowDuration = 200.0;\r\n        window.fWaitDuration = 50.0;\r\n        window.fShrinkDuration = 250.0;\r\n        window.aColor = [255, 128, 128];\r\n        fVX = (2.0 * fPI) / window.iFramesToRotate;\r\n        oRadGrad = null;\r\n        ctxRender = nCanvasRender.getContext('2d');\r\n        oRender = {\r\n            pFirst: null\r\n        };\r\n        oBuffer = {\r\n            pFirst: null\r\n        };\r\n        w = h = 0;\r\n        fnSetSize = function () {\r\n            nCanvasRender.width = w = window.innerWidth;\r\n            nCanvasRender.height = h = window.innerHeight;\r\n            iProjSphereX = w / 2;\r\n            iProjSphereY = h / 2;\r\n            return {\r\n                w: w,\r\n                h: h\r\n            };\r\n        };\r\n        fnSetSize();\r\n        fnAddEventListener(window, 'resize', fnSetSize);\r\n        fnSwapList = function (p, oSrc, oDst) {\r\n            if (p != null) {\r\n                if (oSrc.pFirst === p) {\r\n                    oSrc.pFirst = p.pNext;\r\n                    if (p.pNext != null) {\r\n                        p.pNext.pPrev = null;\r\n                    }\r\n                } else {\r\n                    p.pPrev.pNext = p.pNext;\r\n                    if (p.pNext != null) {\r\n                        p.pNext.pPrev = p.pPrev;\r\n                    }\r\n                }\r\n            } else {\r\n                p = new Particle();\r\n            }\r\n            p.pNext = oDst.pFirst;\r\n            if (oDst.pFirst != null) {\r\n                oDst.pFirst.pPrev = p;\r\n            }\r\n            oDst.pFirst = p;\r\n            p.pPrev = null;\r\n            return p;\r\n        };\r\n        Particle = (function () {\r\n            function Particle() { }\r\n\r\n            Particle.prototype.fX = 0.0;\r\n\r\n            Particle.prototype.fY = 0.0;\r\n\r\n            Particle.prototype.fZ = 0.0;\r\n\r\n            Particle.prototype.fVX = 0.0;\r\n\r\n            Particle.prototype.fVY = 0.0;\r\n\r\n            Particle.prototype.fVZ = 0.0;\r\n\r\n            Particle.prototype.fAX = 0.0;\r\n\r\n            Particle.prototype.fAY = 0.0;\r\n\r\n            Particle.prototype.fAZ = 0.0;\r\n\r\n            Particle.prototype.fProjX = 0.0;\r\n\r\n            Particle.prototype.fProjY = 0.0;\r\n\r\n            Particle.prototype.fRotX = 0.0;\r\n\r\n            Particle.prototype.fRotZ = 0.0;\r\n\r\n            Particle.prototype.pPrev = null;\r\n\r\n            Particle.prototype.pNext = null;\r\n\r\n            Particle.prototype.fAngle = 0.0;\r\n\r\n            Particle.prototype.fForce = 0.0;\r\n\r\n            Particle.prototype.fGrowDuration = 0.0;\r\n\r\n            Particle.prototype.fWaitDuration = 0.0;\r\n\r\n            Particle.prototype.fShrinkDuration = 0.0;\r\n\r\n            Particle.prototype.fRadiusCurrent = 0.0;\r\n\r\n            Particle.prototype.iFramesAlive = 0;\r\n\r\n            Particle.prototype.bIsDead = false;\r\n\r\n            Particle.prototype.fnInit = function () {\r\n                this.fAngle = fnRnd() * fPI * 2;\r\n                this.fForce = fnACos(fnRnd2());\r\n                this.fAlpha = 0;\r\n                this.bIsDead = false;\r\n                this.iFramesAlive = 0;\r\n                this.fX = iRadiusSphere * fnSin(this.fForce) * fnCos(this.fAngle);\r\n                this.fY = iRadiusSphere * fnSin(this.fForce) * fnSin(this.fAngle);\r\n                this.fZ = iRadiusSphere * fnCos(this.fForce);\r\n                this.fVX = fStartVX * this.fX;\r\n                this.fVY = fStartVY * this.fY;\r\n                this.fVZ = fStartVZ * this.fZ;\r\n                this.fGrowDuration = window.fGrowDuration + fnRnd2() * (window.fGrowDuration / 4.0);\r\n                this.fWaitDuration = window.fWaitDuration + fnRnd2() * (window.fWaitDuration / 4.0);\r\n                this.fShrinkDuration = window.fShrinkDuration + fnRnd2() * (window.fShrinkDuration / 4.0);\r\n                this.fAX = 0.0;\r\n                this.fAY = 0.0;\r\n                this.fAZ = 0.0;\r\n            };\r\n\r\n            Particle.prototype.fnUpdate = function () {\r\n                if (this.iFramesAlive > this.fGrowDuration + this.fWaitDuration) {\r\n                    this.fVX += this.fAX + fMaxAX * fnRnd2();\r\n                    this.fVY += this.fAY + fMaxAY * fnRnd2();\r\n                    this.fVZ += this.fAZ + fMaxAZ * fnRnd2();\r\n                    this.fX += this.fVX;\r\n                    this.fY += this.fVY;\r\n                    this.fZ += this.fVZ;\r\n                }\r\n                this.fRotX = fCosAngle * this.fX + fSinAngle * this.fZ;\r\n                this.fRotZ = -fSinAngle * this.fX + fCosAngle * this.fZ;\r\n                this.fRadiusCurrent = Math.max(0.01, window.iPerspective / (window.iPerspective - this.fRotZ));\r\n                this.fProjX = this.fRotX * this.fRadiusCurrent + iProjSphereX;\r\n                this.fProjY = this.fY * this.fRadiusCurrent + iProjSphereY;\r\n                this.iFramesAlive += 1;\r\n                if (this.iFramesAlive < this.fGrowDuration) {\r\n                    this.fAlpha = this.iFramesAlive * 1.0 / this.fGrowDuration;\r\n                } else if (this.iFramesAlive < this.fGrowDuration + this.fWaitDuration) {\r\n                    this.fAlpha = 1.0;\r\n                } else if (this.iFramesAlive < this.fGrowDuration + this.fWaitDuration + this.fShrinkDuration) {\r\n                    this.fAlpha = (this.fGrowDuration + this.fWaitDuration + this.fShrinkDuration - this.iFramesAlive) * 1.0 / this.fShrinkDuration;\r\n                } else {\r\n                    this.bIsDead = true;\r\n                }\r\n                if (this.bIsDead === true) {\r\n                    fnSwapList(this, oRender, oBuffer);\r\n                }\r\n                this.fAlpha *= fnMin(1.0, fnMax(0.5, this.fRotZ / iRadiusSphere));\r\n                this.fAlpha = fnMin(1.0, fnMax(0.0, this.fAlpha));\r\n            };\r\n\r\n            return Particle;\r\n\r\n        })();\r\n        fnRender = function () {\r\n            var iCount, p;\r\n            ctxRender.fillStyle = \"#000\";\r\n            ctxRender.fillRect(0, 0, w, h);\r\n            p = oRender.pFirst;\r\n            iCount = 0;\r\n            while (p != null) {\r\n                ctxRender.fillStyle = \"rgba(\" + window.aColor.join(',') + ',' + p.fAlpha.toFixed(4) + \")\";\r\n                ctxRender.beginPath();\r\n                ctxRender.arc(p.fProjX, p.fProjY, p.fRadiusCurrent, 0, 2 * fPI, false);\r\n                ctxRender.closePath();\r\n                ctxRender.fill();\r\n                p = p.pNext;\r\n                iCount += 1;\r\n            }\r\n        };\r\n        fnNextFrame = function () {\r\n            var iAddParticle, iCount, p, pNext;\r\n            oStats.begin();\r\n            fAngle = (fAngle + fVX) % (2.0 * fPI);\r\n            fSinAngle = fnSin(fAngle);\r\n            fCosAngle = fnCos(fAngle);\r\n            iAddParticle = 0;\r\n            iCount = 0;\r\n            while (iAddParticle++ < window.iNewParticlePerFrame) {\r\n                p = fnSwapList(oBuffer.pFirst, oBuffer, oRender);\r\n                p.fnInit();\r\n            }\r\n            p = oRender.pFirst;\r\n            while (p != null) {\r\n                pNext = p.pNext;\r\n                p.fnUpdate();\r\n                p = pNext;\r\n                iCount++;\r\n            }\r\n            fnRender();\r\n            oStats.end();\r\n            return fnRequestAnimationFrame(function () {\r\n                return fnNextFrame();\r\n            });\r\n        };\r\n        fnNextFrame();\r\n        gui = new dat.GUI();\r\n        gui.add(window, 'fGrowDuration').min(10).max(500).step(1);\r\n        gui.add(window, 'fWaitDuration').min(10).max(500).step(1);\r\n        gui.add(window, 'fShrinkDuration').min(10).max(500).step(1);\r\n        gui.add(window, 'iPerspective').min(150).max(1000).step(1);\r\n        gui.add(window, 'iNewParticlePerFrame').min(1).max(20).step(1);\r\n        gui.add(window, 'iFramesToRotate').min(50).max(2500).step(50).onChange(function () {\r\n            return fVX = (2.0 * fPI) / window.iFramesToRotate;\r\n        });\r\n        gui.addColor(window, 'aColor').onChange(function () {\r\n            window.aColor[0] = ~~window.aColor[0];\r\n            window.aColor[1] = ~~window.aColor[1];\r\n            return window.aColor[2] = ~~window.aColor[2];\r\n        });\r\n        if (window.innerWidth < 1000) {\r\n            gui.close();\r\n            window.iNewParticlePerFrame = 5;\r\n        }\r\n        window.app = this;\r\n    };\r\n\r\n    fnAddEventListener(window, 'load', app);\r\n\r\n}).call(this);"]}